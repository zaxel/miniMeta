(this["webpackJsonpcomments-test-app-with-redux-example"]=this["webpackJsonpcomments-test-app-with-redux-example"]||[]).push([[0],{23:function(e,t,n){},29:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(8),a=n.n(r),i=n(18),s=(n(23),n(4)),u=(n(29),n(13)),o=n.n(u),d=n(15),j="INCREMENT",l="DECREMENT",O="INPUT_TEXT",b="COMMENTS_CREATE",m="COMMENT_UPDATE",p="COMMENT_DELETE",f="COMMENTS_LOAD",v="LOADER_DISPLAY_ON",x="LOADER_DISPLAY_OFF",h="ERROR_DISPLAY_ON",E="ERROR_DISPLAY_OFF";function y(){return{type:x}}function g(e){return function(t){t({type:h,text:e}),setTimeout((function(){t({type:E})}),2e3)}}var N=n(1);var _=Object(s.b)((function(e){return{likes:e.likesReducer.likes}}),(function(e){return{onIncrementLikes:function(){return e({type:j})},onDecrementLikes:function(){return e({type:l})}}}))((function(e){return Object(N.jsxs)("div",{className:"button-controls",children:[Object(N.jsxs)("button",{onClick:e.onIncrementLikes,children:["\u2764 ",e.likes]}),Object(N.jsx)("button",{onClick:e.onDecrementLikes,children:"Dislike"})]})}));var k=function(e){var t=Object(s.d)((function(e){return e.inputReducer.text})),n=Object(s.c)();return Object(N.jsxs)("div",{className:"card-title",children:[Object(N.jsx)("div",{className:"card-title-top",children:Object(N.jsx)("input",{type:"text",onChange:function(e){n(function(e){return{type:O,text:e}}(e.target.value))},placeholder:"how things goes?"})}),Object(N.jsx)("p",{children:t})]})},R=n(10);var D=function(e){var t=e.data,n=Object(c.useState)(""),r=Object(R.a)(n,2),a=r[0],i=r[1],u=t.text,o=t.id,d=Object(s.c)();return Object(c.useEffect)((function(){u&&i(u)}),[u]),Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(function(e,t){return{type:m,data:{text:e,id:t}}}(a,o))},className:"comments-item",children:[Object(N.jsx)("div",{onClick:function(e){e.preventDefault(),d(function(e){return{type:p,id:e}}(o))},className:"comments-item-delete",children:"\xd7"}),Object(N.jsx)("input",{type:"text",value:a,onChange:function(e){i(e.target.value)}}),Object(N.jsx)("input",{type:"submit",hidden:!0})]})},T=n(16),w=n.n(T);var S=function(e){var t=Object(c.useState)(""),n=Object(R.a)(t,2),r=n[0],a=n[1],i=Object(s.d)((function(e){return e.commentsReducer.comments})),u=Object(s.c)();return Object(c.useEffect)((function(){u(function(){var e=Object(d.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:v}),e.next=4,fetch("https://jsonplaceholder.typicode.com/comments?_limit=10");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,setTimeout((function(){t({type:f,data:c}),t(y())}),1e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t(g("API error")),t(y());case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[u]),Object(N.jsxs)("div",{className:"card-comments",children:[Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=w()();u(function(e,t){return{type:b,data:{text:e,id:t}}}(r,t))},className:"comments-item-create",children:[Object(N.jsx)("input",{type:"text",value:r,onChange:function(e){a(e.target.value)},placeholder:"please type your comment"}),Object(N.jsx)("input",{type:"submit",hidden:!0})]}),!!i.length&&i.map((function(e){return Object(N.jsx)(D,{data:e},e.id)}))]})},I=n(17),L=n.n(I),C=function(e){var t=Object(s.d)((function(e){return e.appReducer.loading}));return Object(N.jsx)("div",{className:"loader-styles",children:Object(N.jsx)(L.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,visible:t})})},A=n.p+"static/media/sea.187dd9be.jpg";var M=function(){var e=Object(s.d)((function(e){return e.appReducer.error}));return Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)("div",{className:"wrap",children:[Object(N.jsx)(C,{}),Object(N.jsxs)("div",{className:"card",children:[e&&Object(N.jsx)("div",{className:"error-message",children:e}),Object(N.jsxs)("div",{className:"card-image",children:[Object(N.jsx)("img",{src:A,alt:"ukrainian"}),Object(N.jsx)(k,{}),Object(N.jsx)(_,{})]}),Object(N.jsx)(S,{})]})]})})},P=["dick","pussy"];var F=n(5),X=n(2),U={likes:0},Y={text:""},B=n(6),J={comments:[]},V={loading:!1,error:null},q=Object(F.b)({likesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(X.a)(Object(X.a)({},e),{},{likes:e.likes+1});case l:return Object(X.a)(Object(X.a)({},e),{},{likes:e.likes-1});default:return e}},inputReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;return t.type===O?Object(X.a)(Object(X.a)({},e),{},{text:t.text}):e},commentsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(X.a)(Object(X.a)({},e),{},{comments:[].concat(Object(B.a)(e.comments),[t.data])});case f:var n=t.data.map((function(e){return{text:e.name,id:e.id}}));return Object(X.a)(Object(X.a)({},e),{},{comments:n});case m:var c=t.data,r=e.comments,a=r.findIndex((function(e){return e.id===c.id})),i=[].concat(Object(B.a)(r.slice(0,a)),[c],Object(B.a)(r.slice(a+1)));return Object(X.a)(Object(X.a)({},e),{},{comments:i});case p:var s=t.id,u=e.comments,o=u.findIndex((function(e){return e.id===s})),d=[].concat(Object(B.a)(u.slice(0,o)),Object(B.a)(u.slice(o+1)));return Object(X.a)(Object(X.a)({},e),{},{comments:d});default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(X.a)(Object(X.a)({},e),{},{loading:!0});case x:return Object(X.a)(Object(X.a)({},e),{},{loading:!1});case h:return Object(X.a)(Object(X.a)({},e),{},{error:t.text});case E:return Object(X.a)(Object(X.a)({},e),{},{error:null});default:return e}}}),z=Object(F.d)(q,Object(F.c)(Object(F.a)(i.a,(function(e){var t=e.dispatch;return function(e){return function(n){if(n.type===b&&P.some((function(e){return n.data.text.includes(e)})))return t(g("Please respect other users"));return e(n)}}})),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));a.a.render(Object(N.jsx)(s.a,{store:z,children:Object(N.jsx)(M,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.d0765c5e.chunk.js.map